YUI.add("hermes-template-prbd-moola-position",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return' data-aa-adIdentity="'+n.escapeExpression("function"==typeof(o=null!=(o=r(e,"advertisingStitching")||(null!=l?r(l,"advertisingStitching"):l))?o:n.hooks.helperMissing)?o.call(null!=l?l:n.nullContext||{},{name:"advertisingStitching",hash:{},data:t,loc:{start:{line:2,column:58},end:{line:2,column:82}}}):o)+'"'},3:function(n,l,e,a,t){return"upsell-fallback"},5:function(n,l,e,a,t){return'\t\t<a href="/account/upgrade/pro?feed"></a>\n'},7:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(e,"unless").call(null!=l?l:n.nullContext||{},null!=l?r(l,"showNonUSSticky"):l,{name:"unless",hash:{},fn:n.program(8,t,0),inverse:n.noop,data:t,loc:{start:{line:10,column:1},end:{line:12,column:12}}}))?o:""},8:function(n,l,e,a,t){var o,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,s=n.escapeExpression,u=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t<p class="upgrade-to-pro-cta"><a href="'+s("function"==typeof(o=null!=(o=u(e,"upgradeProLink")||(null!=l?u(l,"upgradeProLink"):l))?o:i)?o.call(r,{name:"upgradeProLink",hash:{},data:t,loc:{start:{line:11,column:41},end:{line:11,column:59}}}):o)+'">'+s((u(e,"intlMessage")||l&&u(l,"intlMessage")||i).call(r,{name:"intlMessage",hash:{intlName:"common.UPGRADE_PRO_HIDE_ADS"},data:t,loc:{start:{line:11,column:61},end:{line:11,column:115}}}))+"</a></p>\n"},10:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=(r(e,"isFlipped")||l&&r(l,"isFlipped")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},"enable-ad-timer-lock",{name:"isFlipped",hash:{},fn:n.program(11,t,0),inverse:n.noop,data:t,loc:{start:{line:15,column:1},end:{line:19,column:15}}}))?o:""},11:function(n,l,e,a,t){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t<div class="navad-timer-container">\n\t\t\t<p class="navad-timer-text">'+n.escapeExpression((o(e,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{adTimerStartCount:null!=l?o(l,"adTimerStartCount"):l,intlName:"common.AD_INTERSTITIAL_TIMER"},data:t,loc:{start:{line:17,column:31},end:{line:17,column:122}}}))+"</p>\n\t\t</div>\n"},compiler:[8,">= 4.3.0"],main:function(n,l,e,a,t){var o,r,i=null!=l?l:n.nullContext||{},s=n.hooks.helperMissing,u="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<div data-aaad="true" data-aa-adunit="'+c(typeof(r=null!=(r=p(e,"adUnit")||(null!=l?p(l,"adUnit"):l))?r:s)===u?r.call(i,{name:"adUnit",hash:{},data:t,loc:{start:{line:1,column:38},end:{line:1,column:48}}}):r)+'"\n\t'+(null!=(o=(p(e,"isFlipped")||l&&p(l,"isFlipped")||s).call(i,"enable-ad-stitching",{name:"isFlipped",hash:{},fn:n.program(1,t,0),inverse:n.noop,data:t,loc:{start:{line:2,column:1},end:{line:2,column:97}}}))?o:"")+'\n\tclass="moola-container '+c(typeof(r=null!=(r=p(e,"class")||(null!=l?p(l,"class"):l))?r:s)===u?r.call(i,{name:"class",hash:{},data:t,loc:{start:{line:3,column:24},end:{line:3,column:33}}}):r)+" "+(null!=(o=p(e,"if").call(i,null!=l?p(l,"upsellFallback"):l,{name:"if",hash:{},fn:n.program(3,t,0),inverse:n.noop,data:t,loc:{start:{line:3,column:34},end:{line:3,column:78}}}))?o:"")+'">\n\n'+(null!=(o=p(e,"if").call(i,null!=l?p(l,"upsellFallback"):l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.noop,data:t,loc:{start:{line:5,column:1},end:{line:7,column:8}}}))?o:"")+"</div>\n"+(null!=(o=p(e,"if").call(i,null!=l?p(l,"upgradeProLink"):l,{name:"if",hash:{},fn:n.program(7,t,0),inverse:n.noop,data:t,loc:{start:{line:9,column:0},end:{line:13,column:7}}}))?o:"")+(null!=(o=p(e,"if").call(i,null!=l?p(l,"signedOut"):l,{name:"if",hash:{},fn:n.program(10,t,0),inverse:n.noop,data:t,loc:{start:{line:14,column:0},end:{line:20,column:7}}}))?o:"")},useData:!0}),a={};n.Array.each([],(function(l){var e=n.Template.get("hermes/"+l);e&&(a[l]=e)})),n.Template.register("hermes/prbd-moola-position",(function(l,t){return(t=t||{}).partials=t.partials?n.merge(a,t.partials):a,e(l,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-photo-well-media-interstitial-moola",(function(e,a){var t=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,a,t,r,i){var l,n=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'<div class="photo-page-i-m-container">\n'+(null!=(l=e.invokePartial(n(r,"prbd-moola-position"),a,{name:"prbd-moola-position",hash:{upgradeProLink:null!=a?n(a,"upgradeProLink"):a,advertisingStitching:null!=a?n(a,"advertisingStitching"):a,signedOut:null!=a?n(a,"signedOut"):a,upsellFallback:null!=a?n(a,"upsellFallback"):a,adUnit:null!=a?n(a,"adUnit"):a,adTimerStartCount:null!=a?n(a,"adTimerStartCount"):a},data:i,indent:"\t",helpers:t,partials:r,decorators:e.decorators}))?l:"")+"</div>\n"},usePartial:!0,useData:!0}),r={};e.Array.each(["prbd-moola-position"],(function(a){var t=e.Template.get("hermes/"+a);t&&(r[a]=t)})),e.Template.register("hermes/photo-well-media-interstitial-moola",(function(a,i){return(i=i||{}).partials=i.partials?e.merge(r,i.partials):r,t(a,i)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-prbd-moola-position"]});YUI.add("photo-size-helper",(function(e,i){var n=require("hermes-core/flog")(i),t=[{name:"Square",length:75,key:"sq",suffix:"s",isSquare:!0},{name:"Large Square",length:150,key:"q",suffix:"q",isSquare:!0},{name:"Thumbnail",length:100,key:"t",suffix:"t"},{name:"Small",length:240,key:"s",suffix:"m"},{name:"Small 320",length:320,key:"n",suffix:"n"},{name:"Small 400",length:400,key:"w",suffix:"w"},{name:"Medium",length:500,key:"m",suffix:""},{name:"Medium 640",length:640,key:"z",suffix:"z"},{name:"Medium 800",length:800,key:"c",suffix:"c"},{name:"Large",length:1024,key:"l",suffix:"b"},{name:"Large 1600",length:1600,key:"h",suffix:"h"},{name:"Large 2048",length:2048,key:"k",suffix:"k"},{name:"X-Large 3K",length:3072,key:"3k",suffix:"3k"},{name:"X-Large 4K",length:4096,key:"4k",suffix:"4k"},{name:"VR 4K",length:4096,key:"f",suffix:"f",isVR:!0},{name:"X-Large 5K",length:5120,key:"5k",suffix:"5k"},{name:"X-Large 6K",length:6144,key:"6k",suffix:"6k"},{name:"Original",length:Number.MAX_VALUE,key:"o",suffix:"o",isOriginal:!0}];e.PhotoSizeHelper=function(i){return{getSizeConfig:function(e){return t.find((function(i){return i.key===e}))},getSize:function(e,i){return(i=i||[]).find((function(i){return i.key===e}))},getLargerSizeByScale:function(e,i){var n=this.getSizeConfig(e);return i=i||1.5,t.find((function(e){return!this.isASpecialSize(e)&&e.length>=i*n.length}),this)},isASpecialSize:function(e){return!!e.isSquare||(!!e.isVR||!!e.isOriginal)},getPhotoAspectRatio:function(e){var i=this.getBiggestGeneratedSize(e);return i.width/i.height},getBiggestGeneratedSize:function(e){var i,n=[];for(i in e)"o"!==i&&n.push(e[i]);return n.sort((function(e,i){return e.width<=i.width?1:-1})),n[0]},getSizeToFit:function(i,t,r){var s,u,a,h=t.width,f=t.height,g=!!r.cropToFit,o=r.includeSquare,l=r.excludeSizes||["o"],c=r.includeSizes,S=this.isPhotoSquare(i);if(void 0===r.includeSizes)try{c=Object.keys(i)}catch(e){n.warn("getSizeToFit with invalid sizes",{err:e,sizes:i})}return e.Object.each(i,(function(e,i){var n,t,r,k,m;e&&-1===l.indexOf(i)&&c.indexOf(i)>-1&&(o||!this.isSquareType(i)||S)&&(n=parseInt(e.width,10),t=parseInt(e.height,10),(g&&n>=h&&t>=f||!g&&(n>=h||t>=f))&&(r=!0),r&&(s?t<parseInt(s.height,10)&&(s=e):s=e),u?(k=parseInt(u.width,10),m=parseInt(u.height,10),(n>k||t>m)&&(u=e)):u=e),a=s||u}),this),a},isSquareType:function(e){return["sq","q"].indexOf(e)>-1},hasSquareDimensions:function(e){return parseInt(e.width,10)/parseInt(e.height,10)==1},isPhotoSquare:function(i){var n=!0;return e.Object.some(i,(function(e,i){if(e&&e.width&&e.height&&1!==parseInt(e.width,10)/parseInt(e.height,10))return n=!1,!0}),this),n},parseApiSizes:function(i,n){return e.APIHelper.response.parsePhotoSize(i,n)}}}}),"@VERSION@",{requires:["api-helper"]});YUI.add("photo-well-media-scrappy-view",(function(e,t){var i=require("hermes-core/flog")(t),n=new e.SubscriptionsHelper,o={photo:{render:function(){var e,t,i,n,o,a=this.get("photo"),s="",r=a.getValue("ascendingSizes"),h=[];for(var l in"o"===r[r.length-1].key&&r.pop(),r)t=r[l-1],e=r[l],this.photoSizeHelper.getSizeConfig(e.key),(o={}).srcset=e.url+" 1x",(n=this.photoSizeHelper.getLargerSizeByScale(e.key,1.3))&&(i=r.find((function(e){return e.key===n.key})))&&(o.srcset+=", "+i.url+" "+i.width/e.width+"x"),t||(t={width:0,height:0}),o.media="(min-width: "+(t.width+1)+"px) and (min-height: "+(t.height+1+150)+"px)",o.dataSize=e.key,o.dataWidth=e.width,o.dataHeight=e.height,h.push(o);return h.reverse(),a.getValue("owner")&&(s=""===a.getValue("title").trim()?this.intlMessage({intlName:"common.UNTITLED"}):a.getValue("title"),s+=", "+this.intlMessage({intlName:"common.BY_USER",user:a.getValue("owner").getValue("username")})),this.setContainerWithTemplate("photo-well-media-scrappy",{sources:h,src:this.photoSizeHelper.getSize("t",r).url,imgAltText:s,needsInterstitial:a.getValue("needsInterstitial"),isSignedIn:this.appContext.getViewer().signedIn,isVideo:!1,isMinor:this.appContext.getViewer().isMinor}),this}},video:{render:function(){var e=this.get("photo"),t=this.getPhotoForDisplay({excludeSizes:[]}),i=t.url;return this.appContext.flipper.isFlipped("disable-video-playback")&&(i="/images/en-us/video-unavailable/m.png"),!this.player||e.getValue("isVideoPending")||e.getValue("isVideoFailed")?(this.setContainerWithTemplate("photo-well-media-scrappy",{width:t.width,height:t.height,src:i,needsInterstitial:e.getValue("needsInterstitial"),isVideo:!0,isSignedIn:this.appContext.getViewer().signedIn,"zoom-view":""}),this):(e.getValue("isVideoPending")||e.getValue("isVideoFailed")||(this.player.dimension?(this.player.dimension("width",t.width),this.player.dimension("height",t.height)):this.player.resize(t.width,t.height)),this)}},ad:{render:function(){var t=e.config.flickr.moola.positions.interstitials[0],i={},o=this.appContext.viewportData.getWidth(),a=e.config.flickr.moola.ad_breakpoint_mobile_desktop;return this.adEventStitch=this.appContext.adManager.getHashedAdValue(this.appContext.adManager.getAdPositioning(this.get("container"))),this.adId=e.guid(),i.signedOut=!this.appContext.getViewer().signedIn,i.adTimerStartCount=t.ad_timer_start_value,i.adUnit=t[o<a?"ad_unit_mobile":"ad_unit_desktop"],i.advertisingStitching=this.adEventStitch,i.upgradeProLink=n.getProLandingPageUrl(n.UTM_HIDE_ADS),this.adUnit=i.adUnit,this.setContainerWithTemplate("photo-well-media-interstitial-moola",i),this}}};e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,subviewConfig:{"zoom-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1},"vr-overlay-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!0,destinationContainer:".photo-well-media-scrappy-view",disabled:function(){return!this.appContext.flipper.isFlipped("enable-vr")}}},initializer:function(t){return this.photoId=t.photoId,this.isAd=!!t.ad,this.geo=t.geo,this.adSlots=[],this.photoSizeHelper=new e.PhotoSizeHelper(this.appContext),""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this},loadState:function(){var t=this;return this.appContext.getModel("photo-models",t.photoId).then((function(i){if(t.set("photo",i),i.getValue("isVideo"))return new e.Promise((function(t,i){e.use("flickr-video-player",(function(){t()}))}))}))},buildContainer:function(){return YUI.Env.isServer||this.set("clientRendered",!0),this.isAd?o.ad.render.call(this):this.get("photo").getValue("isVideo")?o.video.render.call(this):o.photo.render.call(this),!YUI.Env.isServer&&this.subviews["vr-overlay-view"]&&this.subviews["vr-overlay-view"].get("canVr")&&(this.canVR=!0,this.subviews["zoom-view"]&&this.subviews["zoom-view"].destroy({remove:!0})),this.get("photo").getValue("needsInterstitial")?this.get("container").addClass("has-interstitial"):this.get("container").removeClass("has-interstitial"),this},handleInterstitialDismissButtonClick:function(t){var n=this,o=this.get("personPreferences"),a=this.get("photo"),s=a.getValue("safetyLevel");e.rapidTracker.beacon(this.name,"restrictedContentInterstitialClick"),o.setValue("safeSearch",s),o.registry.remoteUpdate(n.appContext.auth.user.nsid).then((function(e){a.registry.attributeSearch({needsInterstitial:!0}).forEach((function(e){a.registry.getValue(e,"safetyLevel")<=o.getValue("safeSearch")&&a.registry.setValue(e,"needsInterstitial",!1)})),n.buildContainer(),n.fire("subviewViewEvent","photoWellResized")}),(function(e){i.error({err:e}),n.onError(n.intlMessage({intlName:"photo-page-scrappy.COULDNT_UPDATE_SETTINGS"}))}))},onParentViewEvent:function(e,t){if(t&&"photoWellResized"===t[0]){var i=this.get("photo");this.isAd||i.getValue("isVideo")||i.getValue("needsInterstitial")||this.rightSizePhotoMedia(t[1])}},rightSizePhotoMedia:function(e){var t=this.get("container"),i=(t.all("source"),t.one("#photoWellDynamicSizer"));i&&i.insert(":root { --belowPhotoWellHeight: "+(window.innerHeight-e-50)+"px; }","replace")},activate:function(){var t=this;return!this.get("photo").getValue("isVideo")||this.get("photo").getValue("isVideoPending")||this.get("photo").getValue("isVideoFailed")||(this.player=new e.FlickrVideoPlayer({container:t.get("container").one(".videoplayer"),model:t.get("photo"),appContext:t.appContext,videoNode:e.one("#video_1")?e.one("#video_1").getDOMNode():null,controlBar:{fullscreenToggle:!1}}),this.player.init(),this.on("destroy",(function(){t.player&&(t.player.destroy(),t.player=null)}))),this.get("photo").getValue("needsInterstitial")||this.registerEventHandler(e.on("flickr:photo-media-well-update",(function(e){t.set("canvasSizeIsDirty",!0),t.buildContainer()}))),this.appContext.getViewer().signedIn&&this.appContext.getModel("person-preferences-models",this.appContext.auth.user.nsid).then((function(e){t.set("personPreferences",e),t.get("photo").getValue("needsInterstitial")&&!this.appContext.getViewer().isMinor&&t.get("container").one(".restricted-interstitial-message button")&&t.registerEventHandler(t.get("container").one(".restricted-interstitial-message button").on("click",t.handleInterstitialDismissButtonClick,t))})),this.appContext.flipper.isFlipped("enable-sticky-ads")&&this.appContext.allowThirdPartyContent&&this.geo&&"US"===this.geo.countryCode&&this.appContext.adManager.handleInfolinks(this.get("photo").getValue("owner").getValue("isPro"),this.isAd),this.isAd&&(t.appContext.adManager.processAdsOnPage(),t.adUnit&&t.appContext.adManager.signalAdRequest(t),e.once("adPageChange",(function(){t.fire("subviewViewEvent","adPageTimeoutStart")}))),this},showUpsell:function(){var e=this.get("container"),t=e.one("#interstitial-photo-upsell"),i=e.one("iframe");t&&t.addClass("show-upsell"),i&&i.setStyle("display","none")},onError:function(t){new e.Views.FluidModal({appContext:this.appContext,dismissOnOverlayClick:!0,showBodyLines:!0,showCancelButton:!1,showCancelX:!0,title:this.intlMessage({intlName:"common.ERROR"}),actionButtonLabel:this.intlMessage({intlName:"common.OK"}),message:t,classList:"scrappy-dialog"}).show()},getPhotoForDisplay:function(e){var t,i,n,o=this.getCanvasSize(),a=this.getPixelRatio();return e&&e.canvasSize&&(o=e.canvasSize),t=this.get("photo").getSizeToFit(o,e),i=Math.min(o.height/a,t.height),n=Math.min(o.width/a,t.width/t.height*i),i=Math.min(i,t.height/t.width*n),{width:Math.round(n),height:Math.round(i),url:t.url,pixelRatio:t.width/n}},getCanvasSize:function(){var e,t,i,n,o=this.getPixelRatio(),a=this.get("container"),s={width:500,height:500};return this.get("canvasSizeIsDirty")?YUI.Env.isServer||(t=this.get("container").ancestor(),i=a.getStyle("paddingTop")?parseInt(a.getStyle("paddingTop").match(/[0-9]+/)[0],10):0,n=a.getStyle("paddingBottom")?parseInt(a.getStyle("paddingBottom").match(/[0-9]+/)[0],10):0,40,40,t&&((e=t.get("region")).height=parseInt(t.getStyle("height").match(/[0-9]+/)[0],10)-(i+n),e.width=this.appContext.viewportData.viewport.width-80)):e=this.get("cachedCanvasSize"),this.appContext.viewportData.viewport.width>0&&(s={width:this.appContext.viewportData.viewport.width,height:this.appContext.viewportData.viewport.height-240}),e||(e={top:0,left:0,bottom:500,right:500,width:s.width,height:s.height}),e.height*=o,e.width*=o,e},getPixelRatio:function(){return this.appContext.getViewer().getPixelRatio()}},{ATTRS:{canvasSizeIsDirty:{value:!0,setter:function(e){return!!e}},cachedCanvasSize:{getter:function(t){return e.merge(t)},setter:function(t){return e.merge(t)}}}})}),"@VERSION@",{requires:["flickr-view","moment","vr-overlay-view","zoom-view","hermes-template-photo-well-media-scrappy","hermes-template-sub-photo-moola-view","hermes-template-photo-well-media-interstitial-moola","subscriptions-helper","photo-size-helper"],optional:["photo-models"],langBundles:["common","photo-page-scrappy"]});YUI.add("hermes-template-context-slider-photo",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,t,a){return" currentImage"},3:function(n,l,e,t,a){return" previousImages"},5:function(n,l,e,t,a){return" nextImages"},compiler:[8,">= 4.3.0"],main:function(n,l,e,t,a){var o,r,i=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,c="function",s=n.escapeExpression,m=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'<a\n\tclass="context-thumb emptyImage\n\t\t'+(null!=(o=m(e,"if").call(i,null!=l?m(l,"currentPhoto"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:3,column:2},end:{line:3,column:42}}}))?o:"")+"\n\t\t"+(null!=(o=m(e,"if").call(i,null!=l?m(l,"previousBigPhotos"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:4,column:2},end:{line:4,column:49}}}))?o:"")+"\n\t\t"+(null!=(o=m(e,"if").call(i,null!=l?m(l,"nextBigPhotos"):l,{name:"if",hash:{},fn:n.program(5,a,0),inverse:n.noop,data:a,loc:{start:{line:5,column:2},end:{line:5,column:41}}}))?o:"")+'"\n\thref="'+s(typeof(r=null!=(r=m(e,"url")||(null!=l?m(l,"url"):l))?r:u)===c?r.call(i,{name:"url",hash:{},data:a,loc:{start:{line:6,column:7},end:{line:6,column:14}}}):r)+'"\n\tstyle="left: '+s(typeof(r=null!=(r=m(e,"left")||(null!=l?m(l,"left"):l))?r:u)===c?r.call(i,{name:"left",hash:{},data:a,loc:{start:{line:7,column:14},end:{line:7,column:22}}}):r)+'px"\n\tdata-photo-id="'+s(typeof(r=null!=(r=m(e,"id")||(null!=l?m(l,"id"):l))?r:u)===c?r.call(i,{name:"id",hash:{},data:a,loc:{start:{line:8,column:16},end:{line:8,column:22}}}):r)+'"\n\ttitle="'+s(typeof(r=null!=(r=m(e,"title")||(null!=l?m(l,"title"):l))?r:u)===c?r.call(i,{name:"title",hash:{},data:a,loc:{start:{line:9,column:8},end:{line:9,column:17}}}):r)+'"\n\ttabindex="-1"\n>\n\t<img src="'+s(typeof(r=null!=(r=m(e,"background")||(null!=l?m(l,"background"):l))?r:u)===c?r.call(i,{name:"background",hash:{},data:a,loc:{start:{line:12,column:11},end:{line:12,column:25}}}):r)+'" loading="lazy">\n</a>\n'},useData:!0}),t={};n.Array.each([],(function(l){var e=n.Template.get("hermes/"+l);e&&(t[l]=e)})),n.Template.register("hermes/context-slider-photo",(function(l,a){return(a=a||{}).partials=a.partials?n.merge(t,a.partials):t,e(l,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-context-slider-scrappy",(function(t,n){var e=t.Template.Handlebars.revive({1:function(t,n,e,r,l){var a=null!=n?n:t.nullContext||{},o=t.hooks.helperMissing,s=t.escapeExpression,i=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return"\t<div class='loadingError'>\n\t\t<p>"+s((i(e,"intlMessage")||n&&i(n,"intlMessage")||o).call(a,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ERROR_LOADING_CONTEXT"},data:l,loc:{start:{line:3,column:5},end:{line:3,column:72}}}))+'</p>\n\t\t<p><button href="#" class="ui-button ui-button-cta ui-button-transparent retry">'+s((i(e,"intlMessage")||n&&i(n,"intlMessage")||o).call(a,{name:"intlMessage",hash:{intlName:"common.RETRY"},data:l,loc:{start:{line:4,column:82},end:{line:4,column:121}}}))+"</button></p>\n\t</div>\n"},3:function(t,n,e,r,l){var a,o=null!=n?n:t.nullContext||{},s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\n\t<div class=\'context-slider small-slider\'>\n\n\t\t<div class="wrapper is-ready clear-float small-photos">\n\n\t\t\t<div class="slider">\n\n'+(null!=(a=s(e,"each").call(o,null!=n?s(n,"previousPhotos"):n,{name:"each",hash:{},fn:t.program(4,l,0),inverse:t.noop,data:l,loc:{start:{line:14,column:4},end:{line:16,column:13}}}))?a:"")+"\n"+(null!=(a=s(e,"if").call(o,null!=n?s(n,"is-ad"):n,{name:"if",hash:{},fn:t.program(6,l,0),inverse:t.program(8,l,0),data:l,loc:{start:{line:18,column:4},end:{line:24,column:11}}}))?a:"")+"\n\n"+(null!=(a=s(e,"each").call(o,null!=n?s(n,"nextPhotos"):n,{name:"each",hash:{},fn:t.program(4,l,0),inverse:t.noop,data:l,loc:{start:{line:27,column:4},end:{line:29,column:13}}}))?a:"")+"\n\t\t\t</div>\n\n\t\t</div>\n\n\t</div>\n\n"+(null!=(a=s(e,"if").call(o,null!=n?s(n,"showBigSlider"):n,{name:"if",hash:{},fn:t.program(11,l,0),inverse:t.noop,data:l,loc:{start:{line:37,column:1},end:{line:69,column:8}}}))?a:"")+"\n"},4:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=t.invokePartial(o(r,"context-slider-photo"),n,{name:"context-slider-photo",data:l,indent:"\t\t\t\t\t",helpers:e,partials:r,decorators:t.decorators}))?a:""},6:function(t,n,e,r,l){return'\t\t\t\t\t<a class="context-thumb middle currentImage adThumb">Ad</a>\n'},8:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=o(e,"each").call(null!=n?n:t.nullContext||{},null!=n?o(n,"currentPhoto"):n,{name:"each",hash:{},fn:t.program(9,l,0),inverse:t.noop,data:l,loc:{start:{line:21,column:5},end:{line:23,column:14}}}))?a:""},9:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=t.invokePartial(o(r,"context-slider-photo"),n,{name:"context-slider-photo",data:l,indent:"\t\t\t\t\t\t",helpers:e,partials:r,decorators:t.decorators}))?a:""},11:function(t,n,e,r,l){var a,o=null!=n?n:t.nullContext||{},s=t.hooks.helperMissing,i=t.escapeExpression,c=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\t\t<div class=\'context-slider big-slider\'>\n\n\t\t\t<span class="nav nav-l">\n\t\t\t\t<span class="hide-text">&larr;</span>\n\t\t\t</span>\n\n\t\t\t<div class="wrapper clear-float">\n\n\t\t\t\t<div class="slider">\n\n\t\t\t\t\t'+i((c(e,"renderTrustedMarkup")||n&&c(n,"renderTrustedMarkup")||s).call(o,null!=n?c(n,"previousBigPhotos"):n,{name:"renderTrustedMarkup",hash:{},data:l,loc:{start:{line:48,column:5},end:{line:48,column:46}}}))+"\n\n"+(null!=(a=c(e,"if").call(o,null!=n?c(n,"is-ad"):n,{name:"if",hash:{},fn:t.program(12,l,0),inverse:t.program(14,l,0),data:l,loc:{start:{line:50,column:5},end:{line:56,column:12}}}))?a:"")+"\n\t\t\t\t\t"+i((c(e,"renderTrustedMarkup")||n&&c(n,"renderTrustedMarkup")||s).call(o,null!=n?c(n,"nextBigPhotos"):n,{name:"renderTrustedMarkup",hash:{},data:l,loc:{start:{line:58,column:5},end:{line:58,column:42}}}))+'\n\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t\t<span class="nav nav-r">\n\t\t\t\t<span class="hide-text">&rarr;</span>\n\t\t\t</span>\n\n\t\t</div>\n'},12:function(t,n,e,r,l){return'\t\t\t\t\t\t<a class="context-thumb middle currentImage adThumb">Ad</a>\n'},14:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=o(e,"each").call(null!=n?n:t.nullContext||{},null!=n?o(n,"currentPhoto"):n,{name:"each",hash:{},fn:t.program(15,l,0),inverse:t.noop,data:l,loc:{start:{line:53,column:6},end:{line:55,column:15}}}))?a:""},15:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=t.invokePartial(o(r,"context-slider-photo"),n,{name:"context-slider-photo",data:l,indent:"\t\t\t\t\t\t\t",helpers:e,partials:r,decorators:t.decorators}))?a:""},compiler:[8,">= 4.3.0"],main:function(t,n,e,r,l){var a,o=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(a=o(e,"if").call(null!=n?n:t.nullContext||{},null!=n?o(n,"loadingError"):n,{name:"if",hash:{},fn:t.program(1,l,0),inverse:t.program(3,l,0),data:l,loc:{start:{line:1,column:0},end:{line:71,column:7}}}))?a:""},usePartial:!0,useData:!0}),r={};t.Array.each(["context-slider-photo","context-slider-photo","context-slider-photo","context-slider-photo"],(function(n){var e=t.Template.get("hermes/"+n);e&&(r[n]=e)})),t.Template.register("hermes/context-slider-scrappy",(function(n,l){return(l=l||{}).partials=l.partials?t.merge(r,l.partials):r,e(n,l)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-context-slider-photo","hermes-template-context-slider-photo","hermes-template-context-slider-photo","hermes-template-context-slider-photo"]});